<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sateesh Pechetti | PhD Student Portfolio</title>
    
    <!-- Google Font: Inter & JetBrains Mono (for code/technical feel) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Lucide Icons CDN -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- GoatCounter Analytics -->
    <script data-goatcounter="https://sateesh.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>

    <style>
        body { font-family: 'Inter', sans-serif; }
        .font-mono { font-family: 'JetBrains Mono', monospace; }

        /* Engineering Grid Background Pattern */
        .bg-grid-pattern {
            background-size: 40px 40px;
            background-image: linear-gradient(to right, rgba(0, 0, 0, 0.05) 1px, transparent 1px),
                              linear-gradient(to bottom, rgba(0, 0, 0, 0.05) 1px, transparent 1px);
        }
        .dark .bg-grid-pattern {
            background-image: linear-gradient(to right, rgba(255, 255, 255, 0.05) 1px, transparent 1px),
                              linear-gradient(to bottom, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
        }

        /* Scroll Animation Classes */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.5, 0, 0, 1);
        }
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }
        
        /* Chatbot Animations */
        .chat-transition {
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .typing-dot {
            animation: typing 1.4s infinite ease-in-out both;
        }
        .typing-dot:nth-child(1) { animation-delay: -0.32s; }
        .typing-dot:nth-child(2) { animation-delay: -0.16s; }
        @keyframes typing {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1); }
        }
    </style>
</head>
<body class="bg-white text-gray-800 antialiased dark:bg-gray-900 dark:text-gray-100">

    <!-- NAVIGATION -->
    <header class="sticky top-0 z-50 w-full border-b border-gray-200 bg-white/80 backdrop-blur-md dark:border-gray-800 dark:bg-gray-900/80 transition-colors duration-300">
        <div class="container mx-auto max-w-5xl px-4">
            <nav class="flex h-16 items-center justify-between">
                <a href="index.html" class="text-xl font-bold tracking-tight text-gray-900 dark:text-white hover:opacity-80 transition-opacity">
                    Sateesh Pechetti
                </a>
                
                <!-- Desktop Menu -->
                <div class="hidden md:flex space-x-8 text-sm font-medium">
                    <a href="index.html" class="text-blue-600 dark:text-blue-400">Home</a>
                    <a href="research.html" class="text-gray-600 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400 transition-colors">Research</a>
                    <a href="projects.html" class="text-gray-600 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400 transition-colors">Projects</a>
                    <a href="publications.html" class="text-gray-600 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400 transition-colors">Publications</a>
                    <a href="contact.html" class="text-gray-600 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400 transition-colors">Contact</a>
                </div>

                <!-- Mobile Toggle -->
                <button id="menu-toggle" class="md:hidden text-gray-700 dark:text-gray-300 focus:outline-none">
                    <i data-lucide="menu" class="h-6 w-6"></i>
                </button>
            </nav>
        </div>
        <!-- Mobile Menu -->
        <div id="mobile-menu" class="hidden md:hidden border-t border-gray-100 dark:border-gray-800 bg-white dark:bg-gray-900">
            <div class="space-y-1 px-4 py-4">
                <a href="index.html" class="block py-2 text-base font-medium text-blue-600 dark:text-blue-400">Home</a>
                <a href="research.html" class="block py-2 text-base font-medium text-gray-600 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400">Research</a>
                <a href="projects.html" class="block py-2 text-base font-medium text-gray-600 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400">Projects</a>
                <a href="publications.html" class="block py-2 text-base font-medium text-gray-600 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400">Publications</a>
                <a href="contact.html" class="block py-2 text-base font-medium text-gray-600 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-400">Contact</a>
            </div>
        </div>
    </header>

    <main>
        <!-- HERO SECTION -->
        <section class="relative border-b border-gray-200 dark:border-gray-800 bg-grid-pattern">
            <!-- Gradient Overlay -->
            <div class="absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-white dark:to-gray-900 pointer-events-none"></div>
            
            <div class="container mx-auto max-w-5xl px-4 py-20 md:py-32 relative z-10">
                <div class="flex flex-col-reverse md:flex-row items-center gap-12">
                    <div class="flex-1 text-center md:text-left reveal">
                        <div class="inline-block px-3 py-1 mb-4 text-xs font-mono font-semibold tracking-wider text-blue-700 uppercase bg-blue-50 rounded-full dark:bg-blue-900/30 dark:text-blue-300">
                            PhD Student â€¢ Mechanical Engineering
                        </div>
                        <h1 class="text-5xl md:text-6xl font-bold tracking-tight text-gray-900 dark:text-white mb-6">
                            Sateesh <span class="text-transparent bg-clip-text bg-gradient-to-r from-blue-600 to-cyan-500">Pechetti</span>
                        </h1>
                        <p class="text-xl text-gray-600 dark:text-gray-300 leading-relaxed mb-8 max-w-2xl">
                            Specializing in <span class="font-semibold text-gray-900 dark:text-white">Computational Solid Mechanics</span> and <span class="font-semibold text-gray-900 dark:text-white">Finite Element Analysis</span> at <span class="text-blue-600 dark:text-blue-400">The Ohio State University</span>.
                        </p>
                        <div class="flex flex-wrap justify-center md:justify-start gap-4">
                            <a href="projects.html" class="px-6 py-3 rounded-lg bg-blue-600 text-white font-medium hover:bg-blue-700 hover:shadow-lg hover:-translate-y-0.5 transition-all duration-200">
                                View Projects
                            </a>
                            <a href="contact.html" class="px-6 py-3 rounded-lg border border-gray-300 dark:border-gray-700 text-gray-700 dark:text-gray-300 font-medium hover:bg-gray-50 dark:hover:bg-gray-800 hover:-translate-y-0.5 transition-all duration-200">
                                Contact Me
                            </a>
                        </div>
                    </div>
                    
                    <!-- Profile Image with modern styling -->
                    <div class="w-48 h-48 md:w-64 md:h-64 relative shrink-0 reveal delay-200">
                        <div class="absolute inset-0 rounded-full bg-gradient-to-br from-blue-500 to-cyan-400 blur opacity-30 animate-pulse"></div>
                        <img src="https://placehold.co/400x400/1e293b/ffffff?text=SP" 
                             alt="Sateesh Pechetti"
                             class="relative w-full h-full object-cover rounded-full border-4 border-white dark:border-gray-800 shadow-2xl">
                    </div>
                </div>
            </div>
        </section>

        <!-- ABOUT SECTION -->
        <section class="py-24 container mx-auto max-w-5xl px-4">
            <div class="grid md:grid-cols-3 gap-12">
                <div class="md:col-span-1 reveal">
                    <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2">
                        <i data-lucide="user" class="text-blue-500"></i> About Me
                    </h2>
                </div>
                <div class="md:col-span-2 space-y-6 text-lg text-gray-600 dark:text-gray-300 leading-relaxed reveal delay-100">
                    <p>
                        I am currently a PhD student in the Mechanical and Aerospace Engineering department at The Ohio State University. My background is deeply rooted in computational mechanics, having earned my Master's from Arizona State University where I developed frameworks for soft body armor design.
                    </p>
                    <p>
                        My work bridges the gap between theoretical mechanics and practical application. I leverage C++ and Python to build custom FEA solvers and pre-processors, aiming to solve complex non-linear problems in composite materials.
                    </p>
                </div>
            </div>
        </section>
    </main>

    <!-- CHATBOT WIDGET -->
    <div class="fixed bottom-6 right-6 z-50 flex flex-col items-end space-y-4">
        <!-- Chat Window (Hidden by default) -->
        <div id="chat-window" class="chat-transition w-80 sm:w-96 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden transform scale-95 opacity-0 origin-bottom-right pointer-events-none hidden flex flex-col max-h-[500px]">
            <!-- Header -->
            <div class="bg-blue-600 p-4 flex justify-between items-center">
                <div class="flex items-center space-x-2">
                    <i data-lucide="bot" class="text-white w-5 h-5"></i>
                    <h3 class="text-white font-semibold text-sm">Ask Sateesh AI</h3>
                </div>
                <button id="close-chat" class="text-blue-100 hover:text-white">
                    <i data-lucide="x" class="w-4 h-4"></i>
                </button>
            </div>
            
            <!-- Messages Area -->
            <div id="chat-messages" class="flex-1 p-4 overflow-y-auto space-y-4 bg-gray-50 dark:bg-gray-900/50 min-h-[300px]">
                <!-- Initial Message -->
                <div class="flex items-start space-x-2">
                    <div class="w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center flex-shrink-0">
                        <i data-lucide="sparkles" class="w-4 h-4 text-blue-600 dark:text-blue-400"></i>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-3 rounded-2xl rounded-tl-none shadow-sm border border-gray-100 dark:border-gray-700 text-sm text-gray-700 dark:text-gray-300">
                        Hi! I'm an AI assistant trained on Sateesh's portfolio. Ask me about his research at OSU, his FEA projects, or his background!
                    </div>
                </div>
            </div>

            <!-- Input Area -->
            <div class="p-4 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700">
                <form id="chat-form" class="relative">
                    <input type="text" id="chat-input" placeholder="Ask a question..." 
                        class="w-full pl-4 pr-10 py-2 rounded-full bg-gray-100 dark:bg-gray-700/50 border-none focus:ring-2 focus:ring-blue-500 text-sm text-gray-900 dark:text-white placeholder-gray-500">
                    <button type="submit" class="absolute right-2 top-1/2 -translate-y-1/2 p-1.5 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                        <i data-lucide="send" class="w-3 h-3"></i>
                    </button>
                </form>
            </div>
        </div>

        <!-- Toggle Button -->
        <button id="chat-toggle" class="group flex items-center justify-center w-14 h-14 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 hover:scale-105 transition-all duration-200">
            <i data-lucide="message-square-sparkles" class="w-6 h-6 group-hover:rotate-12 transition-transform"></i>
        </button>
    </div>

    <!-- FOOTER -->
    <footer class="border-t border-gray-200 dark:border-gray-800 py-8 bg-gray-50 dark:bg-gray-900/50">
        <div class="container mx-auto max-w-5xl px-4 text-center">
            <p class="text-gray-500 dark:text-gray-400 text-sm">
                &copy; <script>document.write(new Date().getFullYear())</script> Sateesh Pechetti. All rights reserved.
            </p>
            <div class="flex justify-center gap-6 mt-4">
                <a href="#" class="text-gray-400 hover:text-blue-600 transition-colors"><i data-lucide="linkedin" class="w-5 h-5"></i></a>
                <a href="#" class="text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors"><i data-lucide="github" class="w-5 h-5"></i></a>
                <a href="https://scholar.google.com/citations?user=2ATmEXQAAAAJ&hl=en" target="_blank" class="text-gray-400 hover:text-blue-500 transition-colors"><i data-lucide="graduation-cap" class="w-5 h-5"></i></a>
            </div>
        </div>
    </footer>

    <script>
        lucide.createIcons();

        // Mobile Menu Toggle
        const menuBtn = document.getElementById('menu-toggle');
        const mobileMenu = document.getElementById('mobile-menu');
        menuBtn.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
            const icon = mobileMenu.classList.contains('hidden') ? 'menu' : 'x';
            menuBtn.querySelector('i').setAttribute('data-lucide', icon);
            lucide.createIcons();
        });

        // Scroll Reveal Animation
        const observerOptions = { threshold: 0.1 };
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, observerOptions);
        
        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));

        // --- CHATBOT LOGIC ---
        const chatToggle = document.getElementById('chat-toggle');
        const chatWindow = document.getElementById('chat-window');
        const closeChat = document.getElementById('close-chat');
        const chatForm = document.getElementById('chat-form');
        const chatInput = document.getElementById('chat-input');
        const chatMessages = document.getElementById('chat-messages');

        // Toggle Window
        function toggleChat() {
            const isHidden = chatWindow.classList.contains('hidden');
            if (isHidden) {
                chatWindow.classList.remove('hidden');
                // Small delay to allow display:block to apply before transition
                requestAnimationFrame(() => {
                    chatWindow.classList.remove('transform', 'scale-95', 'opacity-0', 'pointer-events-none');
                });
                chatInput.focus();
            } else {
                chatWindow.classList.add('transform', 'scale-95', 'opacity-0', 'pointer-events-none');
                setTimeout(() => {
                    chatWindow.classList.add('hidden');
                }, 300);
            }
        }

        chatToggle.addEventListener('click', toggleChat);
        closeChat.addEventListener('click', toggleChat);

        // Add Message to UI
        function addMessage(text, isUser) {
            const div = document.createElement('div');
            div.className = `flex ${isUser ? 'justify-end' : 'items-start space-x-2'}`;
            
            let contentHtml = '';
            if (isUser) {
                contentHtml = `
                    <div class="bg-blue-600 text-white p-3 rounded-2xl rounded-tr-none shadow-sm text-sm max-w-[80%]">
                        ${text}
                    </div>
                `;
            } else {
                contentHtml = `
                    <div class="w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center flex-shrink-0">
                        <i data-lucide="sparkles" class="w-4 h-4 text-blue-600 dark:text-blue-400"></i>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-3 rounded-2xl rounded-tl-none shadow-sm border border-gray-100 dark:border-gray-700 text-sm text-gray-700 dark:text-gray-300 max-w-[80%]">
                        ${text}
                    </div>
                `;
            }
            
            div.innerHTML = contentHtml;
            chatMessages.appendChild(div);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            lucide.createIcons();
        }

        // Add Loading Indicator
        function addLoading() {
            const div = document.createElement('div');
            div.id = 'loading-dots';
            div.className = 'flex items-start space-x-2';
            div.innerHTML = `
                <div class="w-8 h-8 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center flex-shrink-0">
                    <i data-lucide="sparkles" class="w-4 h-4 text-blue-600 dark:text-blue-400"></i>
                </div>
                <div class="bg-white dark:bg-gray-800 p-3 rounded-2xl rounded-tl-none shadow-sm border border-gray-100 dark:border-gray-700 flex space-x-1 items-center h-[44px]">
                    <div class="w-1.5 h-1.5 bg-gray-400 rounded-full typing-dot"></div>
                    <div class="w-1.5 h-1.5 bg-gray-400 rounded-full typing-dot"></div>
                    <div class="w-1.5 h-1.5 bg-gray-400 rounded-full typing-dot"></div>
                </div>
            `;
            chatMessages.appendChild(div);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            lucide.createIcons();
        }

        function removeLoading() {
            const loading = document.getElementById('loading-dots');
            if (loading) loading.remove();
        }

        // Call Gemini API
        async function callGemini(userMessage) {
            const apiKey = ""; // Provided by environment
            const url = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
            
            const systemPrompt = `You are an AI assistant for Sateesh Pechetti's portfolio website. 
            Sateesh is a PhD student in Mechanical and Aerospace Engineering at The Ohio State University (OSU).
            He previously earned his Master's from Arizona State University (ASU).
            His research focus includes: Computational Solid Mechanics, Finite Element Analysis (FEA), Impact Dynamics, and Composite Materials (specifically soft body armor and UHMWPE).
            He uses tools like C++, Python, and LS-DYNA.
            Answer questions briefly and professionally, highlighting his technical skills. 
            If asked for contact info, direct them to pechetti.1@osu.edu or the contact page.`;

            const payload = {
                contents: [{
                    parts: [{ text: userMessage }]
                }],
                systemInstruction: {
                    parts: [{ text: systemPrompt }]
                }
            };

            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) throw new Error('API Error');
                
                const data = await response.json();
                const aiText = data.candidates?.[0]?.content?.parts?.[0]?.text || "I'm having trouble connecting right now. Please try again.";
                return aiText;

            } catch (error) {
                return "Sorry, I'm experiencing a temporary glitch. Please try again later.";
            }
        }

        // Handle Submit
        chatForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const message = chatInput.value.trim();
            if (!message) return;

            // 1. Add User Message
            addMessage(message, true);
            chatInput.value = '';
            chatInput.disabled = true;

            // 2. Show Loading
            addLoading();

            // 3. Get AI Response (with retry logic implicit in fetch wrapper if needed, simple here)
            const response = await callGemini(message);

            // 4. Remove Loading & Add AI Message
            removeLoading();
            addMessage(response, false);
            chatInput.disabled = false;
            chatInput.focus();
        });

    </script>
</body>
</html>
